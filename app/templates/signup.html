{% extends "base.html" %}

{% block title %}Sign Up{% endblock %}

{% block content %}
    <div class="column is-4 is-offset-4">
        <h3 class="title">Sign Up</h3>
        <div class="box">
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    {% for message in messages %}
                        <div class="notification is-danger">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}
            <form action="/signup" method="POST"> <!-- with method=get username and password will show in the url -->
                <div class="field">
                    <div class="control">
                        <input class="input is-large" type="text" name="first_name" placeholder="First Name" required>
                    </div>
                </div>
                <div class="field">
                    <div class="control">
                        <input class="input is-large" type="text" name="last_name" placeholder="Last Name" required>
                    </div>
                </div>
                <div class="field">
                    <div class="control">
                        <input class="input is-large" type="email" name="email" placeholder="Your Email" required>
                    </div>
                </div>
                <div class="field">
                    <div class="control">
                        <input class="input is-large" type="password" id="pwd1" name="password" placeholder="Your Password" required>
                    </div>
                </div>
                <div class="field">
                    <div class="control">
                        <input class="input is-large" type="password" id="pwd2" oninput="checkPassword()" placeholder="Repeat Password" required>
                    </div>
                </div>
                <button class="button is-block is-info is-large is-fullwidth" id="submit" type="submit" disabled>Sign Up</button>
            </form>
        </div>
    </div>
{% endblock %}

{% block scripts %}
    <script>
        function checkPassword() {
            let pwd1 = document.getElementById("pwd1");
            let pwd2 = document.getElementById("pwd2");
            if(pwd1.value === pwd2.value) {
                document.getElementById("submit").disabled = false;
            }
            else {
                document.getElementById("submit").disabled= true;
            }
        }

    </script>
{% endblock %}